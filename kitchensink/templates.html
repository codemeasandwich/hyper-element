<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Templates - hyper-element Kitchen Sink</title>
  <script src="https://cdn.jsdelivr.net/npm/hyperhtml@latest/min.js"></script>
  <script src="test-loader.js"></script>
  <style>
    body { font-family: sans-serif; padding: 2rem; }
    section { margin: 2rem 0; padding: 1rem; border: 1px solid #ddd; border-radius: 4px; }
    section[data-test-result="pass"] { border-color: green; background: #f0fff0; }
    section[data-test-result="fail"] { border-color: red; background: #fff0f0; }
    h1 { border-bottom: 2px solid #333; }
    h2 { margin-top: 0; }
    pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>Templates</h1>
  <p>Demonstrates using Html.template() to render from inline template definitions.</p>

  <section data-test="template-element" data-test-result="pending">
    <h2>Inline Template with Variables</h2>
    <p>Define a template in markup with {variable} placeholders, then render with data.</p>
    <pre><code>&lt;template-element template&gt;
  Hello {name}!
&lt;/template-element&gt;

class extends hyperElement {
  render(Html) {
    Html`${Html.template({ name: "World" })}`
  }
}</code></pre>
    <template-element template>Hello {name}!</template-element>
    <script>
      customElements.define("template-element", class extends hyperElement {
        render(Html) {
          Html`${Html.template({ name: "World" })}`
        }
      });

      requestAnimationFrame(() => {
        const section = document.querySelector('[data-test="template-element"]');
        const elem = document.querySelector('template-element');
        if (elem && elem.textContent.includes('Hello World!')) {
          section.dataset.testResult = 'pass';
        } else {
          section.dataset.testResult = 'fail';
        }
      });
    </script>
  </section>

  <a href="index.html">&larr; Back to Kitchen Sink</a>
</body>
</html>
